set hour                                 0 to 24 hours
         /0*23/ ;
$ifthen.a setglobal hourly
  set  agg_hour the aggregated hour blocks   /b1*b6/   ;
$endif.a
  set  map_agg_hour(hour%addhour%) map the agg_hour with hour to easy switch betwen hourly and block hourly models
$ifthen.a setglobal hourly
    /  (23,0*2).   b1
       (3*6)   .   b2
       (7*10)  .   b3
       (11*14) .   b4
       (15*18) .   b5
       (19*22) .   b6   /

$else.a
    /0*23/

$endif.a
;
Table     electric_demand(years, month)    Texas electricity monthly demand in mwh


                Jan              Feb             Mar             Apr             May             Jun             Jul             Aug             Sep             Oct             Nov             Dec
2001        27583769        24170791        22424411        22635011        24516033        28531900        31533482        33863691        31737433        25531795        22298173        23217685
2002        26449401        24207083        23337633        22545069        25791076        27933903        32144367        32875883        30875338        28076171        23829455        22780470
2003        25800269        24034677        23188158        22746099        26880571        29848449        32458960        34399453        30067415        25309594        23181109        24771201
2004        24972570        23893608        23378775        23166947        25132126        29499229        32266016        32002502        30593911        26918648        23854318        24936191
2005        25755987        23689031        23643687        23586763        25461708        31674043        34246080        33962131        33978964        29029201        24063156        25167513
2006        26401970        23640759        25064807        25670267        28564421        32130297        34635636        35867620        32946762        28085863        23901974        25813837
2007        28194356        26280458        24998018        24502029        26883068        30251814        32679289        35330836        33193019        30043795        25475185        25996715
2008        28112925        26480328        25400902        25400068        29581127        33656686        35785373        35633215        30580544        27016632        24138066        26028781
2009        28331887        24237577        25380423        25230186        26511720        31525789        36817135        36275885        32093920        27872072        23222924        27851900
2010        30235389        26517691        26681477        24541760        27222961        33553242        36387489        38732076        34655355        28534649        24739327        26656135
2011        29993367        27945669        26464992        26963245        29173907        35730168        38540463        41667168        36600689        29754848        25503940        27726661
2012        28330456        25728887        26164763        26338924        30054728        34088196        37508391        39226454        34606094        29705218        26384824        26967196
2013        30578184        26228296        26795885        27170772        29266797        34634796        37888726        39328028        36987510        31956045        27074170        30908046
2014        33491405        30082500        29007544        27846934        30309120        34707247        37815771        38763079        37723702        32563728        27776394        29582396
2015        32573796        28980372        30352382        27952976        29248236        34721328        40173894        40722089        37592920        33579866        27225486        29214009
2016        32141262        29074793        28087577        27839850        30204873        35736365        40978236        42140094        38567586        34223250        29054828        30613095
;



Table     electric_supply(years, month)    Texas electricity monthly supply in mwh

                 Jan             Feb             Mar             Apr             May             Jun             Jul             Aug             Sep             Oct             Nov             Dec
2001        31001280        25626521        27580339        27486315        31583459        34619506        39939836        39376594        32471977        28083635        26453126        28357417
2002        30513579        27337377        28874781        28939850        32512588        36267581        39583368        40740094        34663797        29398621        27143326        29653578
2003        31481066        27728850        27561026        27798918        33088612        34534461        37686562        39825981        32709962        29649701        28094336        29040209
2004        30156780        28775703        28321408        27791931        33666066        35388921        39027778        38636043        35314815        32782264        28436405        32001017
2005        31494104        27232640        28585763        27803144        33121918        38446042        40485605        41581304        36934564        30402202        29013508        31567928
2006        28825332        27127071        28999053        30638245        35367150        38186754        41653661        43636887        35107091        31568269        28391484        31081881
2007        34731426        28768179        29110275        28753915        32946191        36563965        38824083        42760180        36866003        33750994        30256468        32160617
2008        33892893        29521605        30820902        30029215        35722057        40142016        42191804        41297412        32323726        30518854        27548582        30778717
2009        30804180        26133266        29169926        28382554        33403512        39280193        42390920        42446723        34158592        30499507        27455133        33043404
2010        33957348        30591872        28953544        28187332        35235118        40229004        40896374        44721597        36369190        30753346        29376461        32423859
2011        34297136        30263904        30275743        32606966        35972463        42806725        46569322        48328291        38562810        32466833        29824518        33502212
2012        32701949        29954345        32067699        32512833        37423588        41399000        44070968        44691375        37862100        33155238        30369074        33604341
2013        33792192        28598943        31131879        30960148        35878401        41110200        43381632        45474105        39770049        34003442        32565927        36713248
2014        36722295        32405513        32716417        31355599        35309581        39684338        43528541        45326019        39350662        34572012        32283789        34374901
2015        38033779        33286887        32927702        31881333        35767700        41497967        46777601        46703127        41359402        35150533        31810618        34629687
2016        35689378        31506730        32629998        32588034        36791296        42712363        48043801        46339115        41873680        37505837        32417636        35949723
;


Table elec_hourly_share(hour, month) the  hourly percentage share of electricity by month
            Jan           Feb           Mar           Apr           May           Jun           Jul           Aug           Sep          Oct           Nov           Dec
0         3.8825        3.8712        3.9373        3.8863        3.8804        3.9224        3.9090        3.9143        3.8288        3.8858        3.8857        3.9643
1         3.7580        3.6991        3.7439        3.6298        3.6245        3.6524        3.6409        3.6558        3.5770        3.6428        3.7323        3.7988
2         3.6908        3.6032        3.6237        3.4655        3.4444        3.4571        3.4419        3.4605        3.3939        3.4847        3.7654        3.7130
3         3.6707        3.5591        3.4470        3.3699        3.3291        3.3185        3.2992        3.3184        3.2693        3.3805        3.6147        3.6761
4         3.6991        3.5599        3.5422        3.3251        3.2618        3.2330        3.2105        3.2311        3.1956        3.3307        3.6210        3.6849
5         3.8068        3.6395        3.5992        3.3535        3.2663        3.2134        3.1856        3.2074        3.1855        3.3498        3.7006        3.7719
6         4.0542        3.8648        3.7835        3.5203        3.3839        3.2759        3.2437        3.2684        3.2717        3.4877        3.9033        3.9827
7         4.3961        4.2018        4.0708        3.7984        3.5683        3.3585        3.3133        3.3708        3.4118        3.7094        4.1903        4.2797
8         4.5493        4.3460        4.2222        3.9218        3.6674        3.4644        3.3879        3.4063        3.4539        3.8112        4.3150        4.4177
9         4.5437        4.3841        4.2692        4.0144        3.8191        3.6694        3.5957        3.5765        3.5920        3.8786        4.3657        4.4310
10        4.5066        4.4201        4.3348        4.1362        4.0224        3.9208        3.8776        3.8504        3.8678        4.0290        4.3846        4.4002
11        4.4437        4.4329        4.3819        4.2566        4.2400        4.1897        4.1819        4.1500        4.1771        4.1997        4.3878        4.3499
12        4.3522        4.4090        4.3930        4.3571        4.4399        4.4499        4.4592        4.4359        4.4679        4.3598        4.3700        4.2886
13        4.2532        4.3637        4.3842        4.4447        4.6069        4.6765        4.6931        4.6812        4.7208        4.5083        4.3403        4.2240
14        4.1841        4.3401        4.3976        4.5522        4.7644        4.8676        4.8917        4.8873        4.9414        4.6615        4.3291        4.1911
15        4.1216        4.3071        4.4003        4.6494        4.8810        4.9943        5.0324        5.0325        5.0945        4.7884        4.3114        4.1679
16        4.0877        4.2975        4.4193        4.7454        4.9610        5.0718        5.1228        5.1149        5.1816        4.8885        4.3057        4.1594
17        4.1081        4.3131        4.4441        4.8229        5.0031        5.1022        5.1563        5.1408        5.2044        4.9442        4.3145        4.1778
18        4.2397        4.3713        4.4695        4.8432        4.9756        5.0666        5.1216        5.1067        5.1422        4.9078        4.4193        4.3449
19        4.4431        4.5193        4.4872        4.7727        4.8528        4.9539        5.0061        4.9933        4.9754        4.7900        4.5113        4.5113
20        4.4541        4.5519        4.5221        4.6824        4.7054        4.7860        4.8324        4.8184        4.8066        4.7522        4.4763        4.4935
21        4.4004        4.4806        4.5419        4.6863        4.6267        4.6380        4.6600        4.6852        4.6726        4.6339        4.4047        4.4509
22        4.2773        4.3435        4.4084        4.5288        4.4771        4.4935        4.5054        4.4913        4.4345        4.4282        4.2746        4.3522
23        4.0769        4.1213        4.1766        4.2371        4.1986        4.2241        4.2319        4.2026        4.1336        4.1473        4.0765        4.1680

;


set years2/ 2019*2027/;

Table peakdemand(years2, month)  projection of peak demand in ercot region in mw

          Jan          Feb          Mar          Apr          May          Jun          Jul          Aug          Sep          Oct          Nov          Dec

2019     58229        55912        48257        54456        60968        69577        71821        74639        67851        60310        48495        55590
2020     59222        56947        49389        55589        62128        70923        72963        75879        68849        61374        49379        56351
2021     59991        57696        50289        56493        63063        72049        74114        77125        69865        62463        50319        57175
2022     60833        58557        51310        57526        64137        73351        75446        78556        70927        63604        51381        58090
2023     61742        59475        52391        58601        65239        74664        76769        79959        71978        64726        52381        58936
2024     62591        60358        53372        59572        66228        75833        77941        81200        72980        65787        53254        59676
2025     63349        61086        54240        60439        67120        76902        79031        82376        73971        66845        54140        60437
2026     64143        61897        55191        61405        68125        78114        80269        83704        75028        67973        55122        61263
2027     64999        62759        56195        62413        69160        79347        81518        85035        76085        69097        56097        62086

;

Table demandprojection(years2, month)   projection of eletricinty in ercot region in mwh

             Jan             Feb             Mar             Apr             May             Jun             Jul             Aug             Sep             Oct            Nov             Dec

2019    30246714        26411570        27527803        27532804        31973760        36555919        39596991        40872443        34345137        30622264        27285987        30036497
2020    30999675        27305123        28362213        28348159        32836415        37525176        40447027        41782753        35063589        31413640        27913770        30611733
2021    31587656        27622536        29023991        28999445        33531778        38335717        41303280        42711719        35795221        32224161        28583477        31234560
2022    32228588        28208171        29773670        29742620        34331432        39273038        42294154        43783053        36559542        33073134        29335407        31926718
2023    32921362        28832628        30567195        30516567        35151052        40218201        43278398        44830565        37316595        33907577        30043847        32565287
2024    33565428        29624674        31288143        31216315        35886792        41060179        44150489        45753408        38037994        34696986        30663990        33122384
2025    34139059        29923603        31925110        31840012        36550147        41829952        44961048        46627412        38751170        35484542        31290353        33695199
2026    34740215        30472538        32622785        32535827        37298192        42702390        45882288        47618104        39512440        36323488        31985791        34317547
2027    35386018        31055297        33358401        33261231        38068248        43590267        46811747        48610844        40273253        37160053        32676307        34936643

;

parameter  electricprice( month) electricity price for residential and industrial sector in 2017
*$per mwh
*https://www.eia.gov/electricity/wholesale/#history
/

Jan        27.5
Feb        27
Mar        27
Apr        27
May        27
Jun        28.5
Jul        29
Aug        29
Sep        28
Oct        28.83
Nov        27
Dec        27
/
;
